---
# Master playbook for complete Dicky Lab deployment

- name: Deploy Common Configuration
  import_playbook: common.yml
  tags: [common]

- name: Deploy Network Configuration
  import_playbook: network_config.yml
  tags: [network]

- name: Deploy DNS and DHCP Infrastructure
  import_playbook: infrastructure.yml
  tags: [infrastructure, dns, dhcp]

- name: Complete Deployment Summary
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Display completion message
      debug:
        msg:
          - "========================================="
          - "Dicky Lab Infrastructure Deployment Complete!"
          - "========================================="
          - ""
          - "âœ“ Services Deployed:"
          - "  - Common baseline (all hosts)"
          - "  - Network Configuration (all hosts)"
          - "  - DNS primary (titus)"
          - "  - DNS secondary (claudia)"
          - "  - DHCP primary (titus)"
          - "  - DHCP secondary (claudia)"
          - ""
          - "Next Steps:"
          - "  1. Verify services with: ansible-playbook playbooks/verify.yml"
          - "  2. Test DHCP client: dhclient -r && dhclient"
          - "  3. Deploy CA infrastructure (marcus, tiberius)"
          - "  4. Configure gateway (porta)"
          - "========================================="
